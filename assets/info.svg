<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="420" viewBox="0 0 800 420" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Palette Parrot-like -->
    <linearGradient id="hdr" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0" stop-color="#19c37d"/>
      <stop offset="1" stop-color="#00bcd4"/>
    </linearGradient>

    <!-- Impostazioni "monospace": ipotizziamo ~10px per char con font-size 18 -->
    <!-- Puoi regolare le x e le width step se cambi font-size -->
    <!-- MASK: typing comando "vim info.json" -->
    <mask id="mask_cmd">
      <rect x="0" y="0" width="100%" height="100%" fill="black"/>
      <!-- finestra che si allarga a scatti per simulare la digitazione -->
      <rect x="280" y="140" width="0" height="24" fill="white">
        <!-- 14 step circa -->
        <animate attributeName="width"
                 dur="2.2s" begin="0.4s" fill="freeze"
                 values="0;14;28;42;56;70;84;98;112;126;140;154;168;182;196"
                 keyTimes="0;0.071;0.143;0.214;0.286;0.357;0.429;0.5;0.571;0.643;0.714;0.786;0.857;0.929;1"/>
      </rect>
    </mask>

    <!-- Cursor del terminale (prima fase) -->
    <linearGradient id="curGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#e2e8f0"/>
      <stop offset="1" stop-color="#94a3b8"/>
    </linearGradient>

    <!-- Transizione: spegne shell, accende editor -->
    <clipPath id="termArea">
      <rect x="20" y="50" width="760" height="340" rx="8" ry="8"/>
    </clipPath>

    <!-- Maschere per la digitazione inside Vim (una per ogni riga) -->
    <!-- Nota: gli step sono abbondanti per dare l’effetto “piano piano” -->
    <mask id="m_l1"><rect width="100%" height="100%" fill="black"/><rect x="48" y="120" width="0" height="22" fill="white">
      <animate attributeName="width" begin="3.0s" dur="0.7s" fill="freeze"
               values="0;10;20;30;40;50"
               keyTimes="0;0.2;0.4;0.6;0.8;1"/></rect></mask>

    <mask id="m_l2"><rect width="100%" height="100%" fill="black"/><rect x="48" y="148" width="0" height="22" fill="white">
      <animate attributeName="width" begin="3.8s" dur="1.4s" fill="freeze"
               values="0;40;80;120;160;200;240;280"
               keyTimes="0;0.125;0.25;0.375;0.5;0.625;0.75;1"/></rect></mask>

    <mask id="m_l3"><rect width="100%" height="100%" fill="black"/><rect x="48" y="176" width="0" height="22" fill="white">
      <animate attributeName="width" begin="5.4s" dur="1.2s" fill="freeze"
               values="0;60;120;180;240;300"
               keyTimes="0;0.2;0.4;0.6;0.8;1"/></rect></mask>

    <mask id="m_l4"><rect width="100%" height="100%" fill="black"/><rect x="48" y="204" width="0" height="22" fill="white">
      <animate attributeName="width" begin="6.8s" dur="1.6s" fill="freeze"
               values="0;60;120;180;240;300;360"
               keyTimes="0;0.167;0.333;0.5;0.667;0.833;1"/></rect></mask>

    <mask id="m_l5"><rect width="100%" height="100%" fill="black"/><rect x="48" y="232" width="0" height="22" fill="white">
      <animate attributeName="width" begin="8.6s" dur="1.2s" fill="freeze"
               values="0;80;160;240;320"
               keyTimes="0;0.25;0.5;0.75;1"/></rect></mask>

    <mask id="m_l6"><rect width="100%" height="100%" fill="black"/><rect x="48" y="260" width="0" height="22" fill="white">
      <animate attributeName="width" begin="10.0s" dur="1.2s" fill="freeze"
               values="0;60;120;180;240;300"
               keyTimes="0;0.2;0.4;0.6;0.8;1"/></rect></mask>

    <!-- Cursor in Vim: si sposta in blocchi (allineato alle maschere riga per riga) -->
    <mask id="blink">
      <rect width="100%" height="100%" fill="black"/>
      <rect x="0" y="0" width="100%" height="100%" fill="white">
        <animate attributeName="opacity" values="1;0;1" dur="0.9s" repeatCount="indefinite"/>
      </rect>
    </mask>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#0b1220"/>

  <!-- Finestra terminale -->
  <g clip-path="url(#termArea)">
    <rect x="20" y="20" width="760" height="360" rx="10" ry="10" fill="#0f172a" stroke="#1f2937"/>
    <rect x="20" y="20" width="760" height="32" fill="url(#hdr)"/>
    <!-- "Traffic lights" -->
    <circle cx="44" cy="36" r="5" fill="#ff5f56"/>
    <circle cx="62" cy="36" r="5" fill="#ffbd2e"/>
    <circle cx="80" cy="36" r="5" fill="#27c93f"/>
    <text x="100" y="41" font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"
          font-size="14" fill="#0f172a" opacity="0.9">Parrot Terminal</text>

    <!-- SHELL VIEW -->
    <g id="shell">
      <rect x="20" y="52" width="760" height="328" fill="#0b1220"/>
      <g font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"
         font-size="18" letter-spacing="0.2px">
        <!-- Prompt -->
        <text x="40" y="140">
          <tspan fill="#19c37d">giovanni</tspan>
          <tspan fill="#94a3b8">@</tspan>
          <tspan fill="#00bcd4">parrot</tspan>
          <tspan fill="#94a3b8">:~$ </tspan>
        </text>
        <!-- Comando digitato con maschera -->
        <text x="280" y="140" fill="#e2e8f0" mask="url(#mask_cmd)">vim info.json</text>

        <!-- cursore (segue la digitazione con movimento approssimato) -->
        <rect x="280" y="122" width="10" height="22" fill="url(#curGrad)">
          <animate attributeName="x" begin="0.4s" dur="2.2s" fill="freeze"
                   values="280;292;304;316;328;340;352;364;376;388;400;412;424;436;448"/>
          <animate attributeName="opacity" values="1;0;1" dur="0.9s" repeatCount="indefinite"/>
        </rect>

        <!-- Output fittizio dopo invio -->
        <text x="40" y="172" fill="#64748b" opacity="0">
          <animate attributeName="opacity" begin="2.7s" dur="0.2s" to="1" fill="freeze"/>
          Opening 'info.json' with Vim...
        </text>
      </g>

      <!-- dissolvenza shell -->
      <animate attributeName="opacity" begin="2.9s" dur="0.4s" to="0" fill="freeze"/>
    </g>

    <!-- EDITOR (VIM-LIKE) VIEW -->
    <g id="vim" opacity="0">
      <rect x="20" y="52" width="760" height="328" fill="#0b1220"/>
      <!-- Barra di stato Vim -->
      <rect x="20" y="356" width="760" height="24" fill="#0a3140"/>
      <text x="28" y="372" font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"
            font-size="14" fill="#a7f3d0">info.json</text>
      <text x="720" y="372" text-anchor="end" font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"
            font-size="14" fill="#f8fafc">-- INSERT --</text>

      <!-- Numeri di riga -->
      <g font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"
         font-size="16" fill="#334155" opacity="0.8">
        <text x="32" y="120">1</text>
        <text x="32" y="148">2</text>
        <text x="32" y="176">3</text>
        <text x="32" y="204">4</text>
        <text x="32" y="232">5</text>
        <text x="32" y="260">6</text>
        <text x="32" y="288">7</text>
        <text x="32" y="316">8</text>
      </g>

      <!-- Contenuto digitato (JSON con placeholder) -->
      <g font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"
         font-size="18" fill="#e2e8f0">
        <text x="48" y="120" mask="url(#m_l1)">{</text>
        <text x="48" y="148" mask="url(#m_l2)">  "name": "&lt;YOUR_NAME&gt;",</text>
        <text x="48" y="176" mask="url(#m_l3)">  "email": "&lt;YOUR_EMAIL&gt;",</text>
        <text x="48" y="204" mask="url(#m_l4)">  "website": "&lt;YOUR_WEBSITE_OR_GITHUB&gt;",</text>
        <text x="48" y="232" mask="url(#m_l5)">  "skills": ["&lt;SKILL_1&gt;", "&lt;SKILL_2&gt;", "&lt;SKILL_3&gt;"],</text>
        <text x="48" y="260" mask="url(#m_l6)">  "bio": "&lt;SHORT_BIO_ONE_LINE&gt;"</text>
        <text x="48" y="288" fill="#e2e8f0" opacity="0">}
          <animate attributeName="opacity" begin="11.4s" dur="0.2s" to="1" fill="freeze"/>
        </text>
      </g>

      <!-- Cursore stile Vim (blocco) che segue grossolanamente la scrittura -->
      <rect id="vimCursor" x="58" y="104" width="12" height="20" fill="#93c5fd" mask="url(#blink)" opacity="0">
        <!-- appare quando entra in INSERT -->
        <animate attributeName="opacity" begin="3.0s" dur="0.1s" to="1" fill="freeze"/>
        <!-- Linea 1: dopo '{' resta a fine riga -->
        <animate attributeName="x" begin="3.0s" dur="0.7s" fill="freeze" values="58;110"/>
        <animate attributeName="y" begin="3.8s" dur="0.01s" to="132" fill="freeze"/>
        <!-- Linea 2 -->
        <animate attributeName="x" begin="3.8s" dur="1.4s" fill="freeze" values="58;340"/>
        <animate attributeName="y" begin="5.4s" dur="0.01s" to="160" fill="freeze"/>
        <!-- Linea 3 -->
        <animate attributeName="x" begin="5.4s" dur="1.2s" fill="freeze" values="58;320"/>
        <animate attributeName="y" begin="6.8s" dur="0.01s" to="188" fill="freeze"/>
        <!-- Linea 4 -->
        <animate attributeName="x" begin="6.8s" dur="1.6s" fill="freeze" values="58;380"/>
        <animate attributeName="y" begin="8.6s" dur="0.01s" to="216" fill="freeze"/>
        <!-- Linea 5 -->
        <animate attributeName="x" begin="8.6s" dur="1.2s" fill="freeze" values="58;370"/>
        <animate attributeName="y" begin="10.0s" dur="0.01s" to="244" fill="freeze"/>
        <!-- Linea 6 -->
        <animate attributeName="x" begin="10.0s" dur="1.2s" fill="freeze" values="58;320"/>
        <animate attributeName="y" begin="11.4s" dur="0.01s" to="272" fill="freeze"/>
      </rect>

      <!-- Fade in editor -->
      <animate attributeName="opacity" begin="2.9s" dur="0.4s" to="1" fill="freeze"/>
    </g>
  </g>

  <!-- NOTE: se cambi font-size, aggiorna gli step nelle <mask> (width) e i target x del cursore. -->
</svg>
